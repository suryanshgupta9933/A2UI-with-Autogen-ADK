import {
  Signal
} from "./chunk-ZDAEO5LF.js";
import "./chunk-PZ5AY32C.js";

// ../packages/lit/node_modules/signal-utils/dist/subtle/microtask-effect.ts.js
var pending = false;
var watcher = new Signal.subtle.Watcher(() => {
  if (!pending) {
    pending = true;
    queueMicrotask(() => {
      pending = false;
      flushPending();
    });
  }
});
function flushPending() {
  for (const signal of watcher.getPending()) {
    signal.get();
  }
  watcher.watch();
}
function effect(cb) {
  let c = new Signal.Computed(() => cb());
  watcher.watch(c);
  c.get();
  return () => {
    watcher.unwatch(c);
  };
}
export {
  effect
};
//# sourceMappingURL=signal-utils_subtle_microtask-effect.js.map
